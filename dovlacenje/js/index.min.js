function touchHandler(e){var t=e.changedTouches[0],i="";switch(e.type){case"touchstart":i="mousedown";break;case"touchmove":i="mousemove";break;case"touchend":i="mouseup";break;default:return}var n=document.createEvent("MouseEvent");n.initMouseEvent(i,!0,!0,window,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(n),e.preventDefault()}function quizIsFinished(){++questionCounter==pitanja.length?(swal({title:"kraj igre",html:"",confirmButtonText:"ponovite ovu igru",confirmButtonColor:"#009DE0",backdrop:!1,closeOnCancel:!1,allowOutsideClick:!1}),$(".swal2-confirm").click(function(){location.reload()}),$(".swal2-cancel").click(function(){window.open("../")})):($(".btn-holder").show(300),$(".btn-holder").click(function(){dragDropResetForm(),sranje()}))}function getTopPos(e){if(!e||!e.offsetTop)return 0;for(var t=e.offsetTop;null!=(e=e.offsetParent);)t+=e.offsetTop;return t}function getLeftPos(e){if(!e||!e.offsetLeft)return 0;for(var t=e.offsetLeft;null!=(e=e.offsetParent);)t+=e.offsetLeft;return t}function cancelEvent(){return!1}function shuffle(e){var t=0,i=0,n=null;for(t=e.length-1;t>0;t-=1)i=Math.floor(Math.random()*(t+1)),n=e[t],e[t]=e[i],e[i]=n}function randomPitanja(){ran=Math.floor(2*Math.random())+1,s1="<img src='"+pitanja[questionCounter].slika[0]+"' class='slikica' id='sli1'>",s2="<img src='"+pitanja[questionCounter].slika[1]+"' class='slikica' id='sli2'>",r1='<div class="rad1">'+pitanja[questionCounter].opisi[0]+"</div>",r11='<div class="rad11">'+pitanja[questionCounter].opisi2[0]+"</div>",r2='<div class="rad2">'+pitanja[questionCounter].opisi[1]+"</div>",r22='<div class="rad22">'+pitanja[questionCounter].opisi2[1]+"</div>",1==ran?($("#o1").html(s1+r1+' <div class="dragDropSmallBox" id="q1"></div><div class="destinationBox"></div> '+r11),$("#o2").html(s2+r2+' <div class="dragDropSmallBox" id="q2"></div><div class="destinationBox"></div> '+r22)):($("#o2").html(s1+r1+' <div class="dragDropSmallBox" id="q1"></div><div class="destinationBox"></div> '+r11),$("#o1").html(s2+r2+' <div class="dragDropSmallBox" id="q2"></div><div class="destinationBox"></div> '+r22)),$("#a1").html(pitanja[questionCounter].answers[0]),$("#a2").html(pitanja[questionCounter].answers[1]),$(".opis").html(questionCounter+1+"/"+pitanja.length+"<br><br>"+pitanja[questionCounter].question)}function initDragDrop(e){if(document.all&&(e=event),!lockedAfterDrag||"questionDiv"!=this.parentNode.parentNode.id)return dragContentDiv.style.left=e.clientX+Math.max(document.documentElement.scrollLeft,document.body.scrollLeft)-120+"px",dragContentDiv.style.top=e.clientY+Math.max(document.documentElement.scrollTop,document.body.scrollTop)-80+"px",dragSource=this,dragSourceParent=this.parentNode,dragSourceNextSibling=!1,this.nextSibling&&(dragSourceNextSibling=this.nextSibling),dragSourceNextSibling.tagName||(dragSourceNextSibling=dragSourceNextSibling.nextSibling),dragDropTimer=0,timeoutBeforeDrag(),!1}function timeoutBeforeDrag(){if(dragDropTimer>=0&&dragDropTimer<10)return dragDropTimer+=1,void setTimeout("timeoutBeforeDrag()",10);dragDropTimer>=10&&(dragContentDiv.style.display="block",dragContentDiv.innerHTML="",dragContentDiv.appendChild(dragSource))}function dragDropMove(e){if(!(dragDropTimer<10)){document.all&&(e=event);var t=Math.max(document.documentElement.scrollTop,document.body.scrollTop),i=Math.max(document.documentElement.scrollLeft,document.body.scrollLeft);dragContentDiv.style.left=e.clientX+i-120+"px",dragContentDiv.style.top=e.clientY+t-80+"px";var n=dragSource.offsetWidth,r=dragSource.offsetHeight,o=!1,a=e.clientX+i,s=e.clientY+t;destination=!1;for(var l=0;l<destinationObjArray.length;l++){var d=destinationObjArray[l].left,c=destinationObjArray[l].top,u=destinationObjArray[l].width,g=destinationObjArray[l].height;destinationObjArray[l].obj.className="destinationBox";var p=destinationObjArray[l].obj.getElementsByTagName("DIV");o||0!=p.length||a<d/1+u/1&&a+n/1>d&&s<c/1+g/1&&s+r/1>c&&(destinationObjArray[l].obj.className="dragContentOver",destination=destinationObjArray[l].obj,o=!0)}if(sourceObjectArray.obj.className="",!o){d=sourceObjectArray.left,c=sourceObjectArray.top,u=sourceObjectArray.width,g=sourceObjectArray.height;a<d/1+u/1&&a+n/1>d&&s<c/1+g/1&&s+r/1>c&&(destination=sourceObjectArray.obj,sourceObjectArray.obj.className="dragContentOver")}return!1}}function dragDropEnd(){if(dragDropTimer<10)dragDropTimer=-1;else{if(dragContentDiv.style.display="none",sourceObjectArray.obj.style.backgroundColor="#FFF",destination){if(destination.appendChild(dragSource),destination.className="destinationBox",!destination.id||"answerDiv"!=destination.id){var e=dragSource.parentNode.previousSibling;e.tagName||(e=e.previousSibling);e.id.replace(/[^0-9]/g,"")==dragSource.id.replace(/[^0-9]/g,"")?(dragSource.className="correctAnswer",checkAllAnswers()):dragSource.className="wrongAnswer"}destination.id&&"answerDiv"==destination.id&&(dragSource.className="dragDropSmallBox")}else(answerDiv=document.getElementById("answerDiv")).appendChild(dragSource);dragDropTimer=-1,dragSourceNextSibling=!1,dragSourceParent=!1,destination=!1}}function checkAllAnswers(){2==$(".correctAnswer").length&&(quizIsFinished(),dragContentDiv=!1,dragContent=!1,dragSource=!1);for(var e=0;e<arrayOfEmptyBoxes.length;e++){var t=arrayOfEmptyBoxes[e].getElementsByTagName("DIV");if(0==t.length)return;if("correctAnswer"!=t[0].className)return}}function resetPositions(){if(!(dragDropTimer>=10)){for(var e=0;e<destinationObjArray.length;e++)destinationObjArray[e].obj&&(destinationObjArray[e].left=getLeftPos(destinationObjArray[e].obj),destinationObjArray[e].top=getTopPos(destinationObjArray[e].obj));sourceObjectArray.left=getLeftPos(answerDiv),sourceObjectArray.top=getTopPos(answerDiv)}}function sranje(){randomPitanja(),dragContentDiv=document.getElementById("dragContent"),(answerDiv=document.getElementById("answerDiv")).onselectstart=cancelEvent;var e=answerDiv.getElementsByTagName("DIV");(questionDiv=document.getElementById("questionDiv")).onselectstart=cancelEvent;e=questionDiv.getElementsByTagName("DIV");for(var t=new Array,i=new Array,n=0;n<e.length;n++){if("destinationBox"==e[n].className){var r=destinationObjArray.length;destinationObjArray[r]=new Array,destinationObjArray[r].obj=e[n],destinationObjArray[r].left=getLeftPos(e[n]),destinationObjArray[r].top=getTopPos(e[n]),destinationObjArray[r].width=e[n].offsetWidth,destinationObjArray[r].height=e[n].offsetHeight}"dragDropSmallBox"==e[n].className&&(t[t.length]=e[n])}if(shuffleQuestions)for(n=0;n<10*t.length;n++){var o=Math.floor(Math.random()*t.length);questionDiv.appendChild(t[o]),questionDiv.appendChild(i[o]),destinationObjArray[destinationObjArray.length]=destinationObjArray[o],destinationObjArray.splice(o,1),t[t.length]=t[o],t.splice(o,1),i[i.length]=i[o],i.splice(o,1)}questionDiv.style.visibility="visible",answerDiv.style.visibility="visible",document.documentElement.onmouseup=dragDropEnd,document.documentElement.onmousemove=dragDropMove,setTimeout("resetPositions()",150),window.onresize=resetPositions}function initDragDropScript(){randomPitanja(),dragContentDiv=document.getElementById("dragContent"),(answerDiv=document.getElementById("answerDiv")).onselectstart=cancelEvent;for(var e=answerDiv.getElementsByTagName("DIV"),t=new Array,i=0;i<e.length;i++)"dragDropSmallBox"==e[i].className&&(e[i].onmousedown=initDragDrop,t[t.length]=e[i],arrayOfAnswers[arrayOfAnswers.length]=e[i]);if(shuffleAnswers)for(i=0;i<10*t.length;i++){var n=Math.floor(Math.random()*t.length);answerDiv.appendChild(t[n])}sourceObjectArray.obj=answerDiv,sourceObjectArray.left=getLeftPos(answerDiv),sourceObjectArray.top=getTopPos(answerDiv),sourceObjectArray.width=answerDiv.offsetWidth,sourceObjectArray.height=answerDiv.offsetHeight,(questionDiv=document.getElementById("questionDiv")).onselectstart=cancelEvent;e=questionDiv.getElementsByTagName("DIV");var r=new Array,o=new Array;for(i=0;i<e.length;i++){if("destinationBox"==e[i].className){var a=destinationObjArray.length;destinationObjArray[a]=new Array,destinationObjArray[a].obj=e[i],destinationObjArray[a].left=getLeftPos(e[i]),destinationObjArray[a].top=getTopPos(e[i]),destinationObjArray[a].width=e[i].offsetWidth,destinationObjArray[a].height=e[i].offsetHeight,o[o.length]=e[i],arrayOfEmptyBoxes[arrayOfEmptyBoxes.length]=e[i]}"dragDropSmallBox"==e[i].className&&(r[r.length]=e[i])}if(shuffleQuestions)for(i=0;i<10*r.length;i++){n=Math.floor(Math.random()*r.length);questionDiv.appendChild(r[n]),questionDiv.appendChild(o[n]),destinationObjArray[destinationObjArray.length]=destinationObjArray[n],destinationObjArray.splice(n,1),r[r.length]=r[n],r.splice(n,1),o[o.length]=o[n],o.splice(n,1)}questionDiv.style.visibility="visible",answerDiv.style.visibility="visible",document.documentElement.onmouseup=dragDropEnd,document.documentElement.onmousemove=dragDropMove,setTimeout("resetPositions()",150),window.onresize=resetPositions}function dragDropResetForm(){$(".btn-holder").hide(300);for(var e=0;e<arrayOfAnswers.length;e++)arrayOfAnswers[e].className="dragDropSmallBox",answerDiv.appendChild(arrayOfAnswers[e])}var answerDiv,questionDiv,shuffleQuestions=!1,shuffleAnswers=!0,lockedAfterDrag=!1,questionCounter=0,pitanja=[{question:"IZABRATI/BIRATI",answers:["obrijao","Brije se"],slika:["slike/obrijati.jpg","slike/brijati.jpg"],opisi:["Toga se jutra svježe",""],opisi2:[".","prije odlaska na poslao."]},{question:"ČITATI/PROČITATI",answers:["čita","pročitala"],slika:["slike/sova-cita.jpg","slike/citati.jpg"],opisi:["Sova je znak mudrosti, zato je ovdje prikazana kako","Ona je u mjesec dana"],opisi2:["knjigu.","puno knjiga."]},{question:"DOBITI/DOBIVATI",answers:["Dobio","dobivati"],slika:["slike/novac.jpg","slike/d2.jpg"],opisi:["","Svakoga Božića djeca će"],opisi2:["je novac na lutriji.","poklone."]},{question:"DOGODITI SE / DOGAĐATI SE",answers:["dogodilo","događa"],slika:["slike/sto.jpg","slike/bozic.jpg"],opisi:["Što se","Što se"],opisi2:["jučer popodne?","svakoga Božića?"]},{question:"ISPEĆI/PEĆI",answers:["ispeći","peče"],slika:["slike/ispeci.jpg","slike/pece.jpg"],opisi:["Majka će","Meso se"],opisi2:["kolać za rođendan.","na roštilju."]},{question:"KUPITI/KUPOVATI",answers:["kupio","kupuje"],slika:["slike/lutku.jpg","slike/kupovina.jpg"],opisi:["Luka je","Obitelj Medić upravo"],opisi2:["novu lutku.","namirnice u trgovini."]},{question:"ZVATI/NAZVATI",answers:["zvati","nazvao"],slika:["slike/pas-zvati.jpg","slike/nazvati.jpg"],opisi:["Moj će se pas","Ivan je"],opisi2:["Joe.","Maju jučer."]},{question:"POJESTI/JESTI",answers:["pojela","jesti"],slika:["slike/jabuku.jpg","slike/pizza.jpg"],opisi:["Ana je","Idemo"],opisi2:["cijelu jabuku.","u <em>pizzeriju</em>."]}],dragContentDiv=!1,dragContent=!1,dragSource=!1,dragDropTimer=-1,destinationObjArray=new Array,destination=!1,dragSourceParent=!1,dragSourceNextSibling=!1,sourceObjectArray=new Array,arrayOfEmptyBoxes=new Array,arrayOfAnswers=new Array,toc=0;shuffle(pitanja),window.onload=initDragDropScript;